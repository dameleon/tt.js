/** "tt.js" -Highspeed SelectorBased Library- author: Kei Takahashi(twitter@dameleon, mail:dameleon[at]gmail.com) license: MIT */
(function(h,m,l,q){function d(a,b){var c=null;if("string"===typeof a)b=b||m,c=v.test(a)?b.querySelectorAll(a):"#"===a[0]?b.getElementById(a.substring(1,a.length)):"."===a[0]?b.getElementsByClassName(a.substring(1,a.length)):b.getElementsByTagName(a);else if(a&&(1===a.nodeType||q(a)||l(a)&&a[0]&&a[0].nodeType))c=a;else{if(a instanceof i)return a;if("function"===typeof a){r?a():n.push(a);return}}return new i(c)}function i(a){var b=0,c;this.nodes=[];this.stash={};this.length=0;if(a)if(a.nodeType)this.nodes[0]=
a,this.length=1;else for(c=this.length=a.length;b<c;++b)this.nodes[b]=a[b];return this}var v=/^(.+[\#\.\s\[>:,]|[\[:])/,r=!1,n=[];if(!Object.keys){var j=Object,s=Object.prototype.hasOwnProperty,w=!{toString:null}.propertyIsEnumerable("toString"),p="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),x=p.length;j.keys=function(a){if("object"!==typeof a&&"function"!==typeof a||null===a)throw new TypeError("Object.keys called on non-object");var b=
[],c;for(c in a)s.call(a,c)&&b.push(c);if(w)for(c=0;c<x;c++)s.call(a,p[c])&&b.push(p[c]);return b}}m.addEventListener("DOMContentLoaded",function(){var a=0,b=n.length;for(r=!0;a<b;++a)n[a]()},!1);d.plugin=function(a,b){if(i.prototype[a]||"string"!==typeof a||"function"!==typeof b||0===a.length)throw new TypeError("arguments error");i.prototype[a]=b};d.isArray=l;d.isNodeList=q;d.each=function(a,b){var c,e,f=0,g;if(l(a))for(g=a.length;f<g;++f)b(a[f],f);else if("object"===typeof a){c=Object.keys(a);
for(g=c.length;f<g;++f)e=c[f],b(e,a[e])}};d.match=function(a,b){var c,e,f={},g=0,d;if(l(a))for(d=a.length;g<d;++g){if(b(a[g],g))return a[g]}else if("object"===typeof a){c=Object.keys(a);for(d=c.length;g<d;++g)if(e=c[g],b(e,a[e],g))return f[e]=a[e],f}return null};d.extend=function(){for(var a,b=arguments,c=0,e=b.length,f={};c<e;++c)(a=b[c])&&"object"===typeof a&&d.each(Object.keys(a),function(b){f[b]=a[b]});return f};d.query2object=function(a){if(!a)return{};for(var b={},a=a.split("&"),c=0,e=a.length;c<
e;++c){var f=a[c].split("=");b[f[0]]=f[1]}return b};d.param=function(a){for(var b,c=Object.keys(a),e=0,f=c.length,d=[];e<f;++e)b=c[e],d.push(encodeURIComponent(b)+"="+encodeURIComponent(a[b]));return d.join("&")};d.triggerEvent=function(a,b,c,e,f){if(a){if(!b)throw Error("require event name");"string"!==typeof c&&(c=b,b="click"===c?"MouseEvents":"Event");b=m.createEvent(b);b.initEvent(c,e||!0,f||!0);a.dispatchEvent(b)}};d.cssPrefix=function(a,b){var c=[],b=b||["webkit","moz","o","ms"];d.each(b,function(b,
f){c[f]="-"+b+"-"+a});return c};d.cssCamelizer=function(a){if("string"!==typeof a)throw Error("arugment type error");var b="";"-"===a[0]&&(a=a.substr(1,a.length));d.each(a.split("-"),function(a,e){var f;e?(f=a[0].toUpperCase(),b+=f+a.substr(1,a.length)):b+=a});return b};d.cssHyphenizer=function(a){if("string"!==typeof a)throw Error("arugment type error");var b=["webkit","moz","o","ms"],c=/[A-Z]/g,e=a.match(c),f="";d.each(a.split(c),function(a,c){f=-1<b.indexOf(a)?f+("-"+a):c?f+("-"+e.shift().toLowerCase()+
a):f+a});return f};d.createEnvData=function(a){var b={},a=a.userAgent.toLowerCase();b.android=/android/.test(a);b.ios=/ip(hone|od|ad)/.test(a);b.windowsPhone=/windows\sphone/.test(a);b.chrome=/chrome/.test(a);b.firefox=/firefox/.test(a);b.opera=/opera/.test(a);b.ie=/msie/.test(a);b.androidBrowser=b.android&&/applewebkit/.test(a);b.mobileSafari=b.ios&&/applewebkit/.test(a);b.other=!(b.androidBrowser||b.mobileSafari||b.chrome||b.firefox||b.opera||b.ie);b.version=b.androidBrowser||b.chrome?a.match(/android\s(\S.*?)\;/):
b.mobileSafari?a.match(/os\s(\S.*?)\s/):null;b.version=b.version&&b.version[1];if(a=b.version)var c=0,a=a.replace(/\D/g,""),c=4-a.length,a=0<c?+a*Math.pow(10,c):0>c?+a.substr(0,4):+a;else a=null;b.versionCode=a;b.isCompatible=b.android&&3E3>b.versionCode||b.ios&&5E3>b.versionCode||b.opera;return b};d.env=d.createEnvData(h.navigator);var j=function(a){this.each(function(){this.classList.add(a)})},k=function(a){function b(a,b){var c=a.split(" ");c[c.length]=b;return c.join(" ")}var c=this.nodes[0].className,
e=b(c,a);this.each(function(f){d(this).hasClass(a)||(f&&c!==this.className&&(c=this.className,e=b(c,a)),this.className=e)})},y=d.env.isCompatible?k:j,j=function(a){this.each(function(){this.classList.remove(a)})},k=function(a){this.each(function(){this.className=(" "+this.className+" ").replace(" "+a+" ","")})},z=d.env.isCompatible?k:j,j=function(a){return this.match(function(){return this.classList.contains(a)})},k=function(a){return this.match(function(){return-1<(" "+this.className+" ").indexOf(" "+
a+" ")})},A=d.env.isCompatible?k:j,j=function(a,b){this.each(function(){""===b?delete this.dataset[a]:this.dataset[a]=b})},k=function(a){return!this.nodes[0]?null:a?this.nodes[0].dataset[a]:this.nodes[0].dataset},B=function(a,b){this.attr("data-"+a,b)},C=function(a){var b={},c="data-",e=this.nodes[0],d=e.attributes,g=0,h=d.length;if(e){if(a)return this.attr(c+a)}else return null;for(;g<h;++g)a=d[g].name,-1<a.indexOf(c)&&(a=a.substr(5,a.length),b[a]=d[g].value);return b},t=d.env.isCompatible?C:k,u=
d.env.isCompatible?B:j;i.prototype={constructor:i,get:function(a){return this.nodes[a||0]},toArray:function(){return this.nodes},each:function(a){for(var b=0,c=this.length;b<c;++b)a.call(this.nodes[b],b);return this},match:function(a){for(var b=0,c=this.length;b<c;++b)if(a.call(this.nodes[b],b))return this.nodes[b];return null},on:function(a,b,c){c=c||!1;this.each(function(){this.addEventListener(a,b,c)},!0);return this},off:function(a,b){this.each(function(){this.removeEventListener(a,b)},!0);return this},
addClass:function(a){y.call(this,a);return this},removeClass:function(a){z.call(this,a);return this},hasClass:function(a){return A.call(this,a.trim())?!0:!1},toggleClass:function(a,b){b?this.each(function(){var b=d(this);b.hasClass(a)?b.removeClass(a):b.addClass(a)}):d(this.nodes[0]).hasClass(a)?this.removeClass(a):this.addClass(a);return this},find:function(a){var b=[];this.each(function(){b=b.concat(d(a,this).toArray())});return d(b)},contains:function(a){var b=d(a);return this.match(function(){var a=
this;return b.match(function(){var b=a.compareDocumentPosition(this);return 0===b||b&Node.DOCUMENT_POSITION_CONTAINED_BY?!0:!1})?!0:!1})},attr:function(a,b){function c(a,b){if(void 0===b||null===b)b="";e.each(function(){""===b?this.removeAttribute(a):this.setAttribute(a,b)})}var e=this;switch(arguments.length){case 1:if("object"===typeof a){d.each(a,function(){c(void 0,a[void 0])});break}else return this.nodes[0].getAttribute(a);case 2:c(a,b)}return this},html:function(a){if(a&&a.nodeType)return this.each(function(){for(;this.firstChild;)this.removeChild(this.firstChild);
this.appendChild(a)}),this;this.each(function(){for(;this.firstChild;)this.removeChild(this.firstChild);this.insertAdjacentHTML("beforeend",a)});return this},add:function(a){if("string"===typeof a)return this.each(function(){this.insertAdjacentHTML("beforeend",a)}),this;this.each(function(){this.appendChild(a)});return this},remove:function(){this.each(function(){this.parentNode.removeChild(this)});return this},clear:function(){this.each(function(){for(;this.firstChild;)this.removeChild(this.firstChild)});
return this},replace:function(a){function b(){this.parentNode&&this.parentNode.insertBefore(a,this)}function c(){this.insertAdjacentHTML("beforebegin",a)}var d=null;a&&a.nodeType?d=b:"string"===typeof a&&(d=c);d&&this.each(d).remove();return this},css:function(a,b){function c(a){f.each(function(){this.style.removeProperty(a)})}function e(a,b){f.each(function(){this.style[a]=b})}var f=this;if("object"===typeof a)d.each(a,function(a,b){""===b?c(a):e(d.cssCamelizer(a),b)});else if(b)e(d.cssCamelizer(a),
b);else if(""===b)c(a);else return h.getComputedStyle(this.nodes[0]).getPropertyValue(a);return this},data:function(a,b){var c=this;switch(arguments.length){case 0:return t.call(this);case 1:return"object"===typeof a?(d.each(a,function(a,b){u.call(c,a,b)}),this):t.call(this,a);case 2:return u.call(this,a,b),this}},show:function(a){var b=this.css("display"),c=this.stash.display;c&&delete this.stash.display;return"none"!==b?this:this.css("display",a||c||"block")},hide:function(){var a=this.css("display");
if("none"!==a)this.stash.display=a;else return this;return this.css("display","none")},trigger:function(a,b,c,e){this.each(function(){d.triggerEvent(this,a,b,c,e)});return this},offset:function(){var a=[];this.each(function(b){var c=this.getBoundingClientRect();a[b]={left:c.left+h.pageXOffset,top:c.top+h.pageYOffset}});return 1===this.length?a[0]:a}};i.prototype.bind=i.prototype.on;i.prototype.unbind=i.prototype.off;h.tt=h.tt||d})(this,document,Array.isArray||function(h){return"[object Array]"===
Object.prototype.toString.call(h)},function(h){return"[object NodeList]"===Object.prototype.toString.call(h)});
