/** tt.js version:0.2.0 author:kei takahashi(twitter@dameleon) at:2013-03-05 */
(function(t,e,n,r,i){"use strict";function s(t,i){var s=null,a="";if("string"==typeof t)a=t,i=i||e,s=c.test(t)?i.querySelectorAll(t):"#"===t[0]?[i.getElementById(t.substring(1,t.length))]:"."===t[0]?i.getElementsByClassName(t.substring(1,t.length)):i.getElementsByTagName(t);else if(t)if(1===t.nodeType)s=[t];else if(r(t)||n(t)&&t.length&&t[0].nodeType)s=t;else if(t===e||t===e.body)s=[e.body];else{if("function"!=typeof t){if(t instanceof o)return t;throw Error("arguments type error")}h?t():u.push(t)}return new o(s||[],a)}function o(t,e){var n,r=0;for(this.selector=e,this.length=n=t.length,this._delegates={},this._data={};n>r;++r)this[r]=t[r];return this}var a="tt",c=/^(.+[\#\.\s\[>:,]|[\[:])/,h=!1,u=[];Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),r=n.length;return function(i){if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on non-object");var s,o=[];for(s in i)t.call(i,s),o.push(s);if(e){for(s=0;r>s;s++)t.call(i,n[s]),o.push(n[s]);return o}}}()),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),e.addEventListener("DOMContentLoaded",function(){h=!0;for(var t=0,e=u.length;e>t;++t)u[t]()},!1),s.isArray=n,s.isNodeList=r,s.type=function(i,s){var o=null===i?"null":i===void 0?"undefined":i===t?"window":i===e?"document":i.nodeType?"node":n(i)?"array":r(i)?"nodelist":"";if(o||(o=typeof i,"object"===o&&(o=Object.prototype.toString.call(i).toLowerCase().match(/.*\s([a-z]*)\]/)[1])),!s)return o;if(!n(s))return s===o;for(var a=0,c=s.length;c>a;++a)return s[a]===o?!0:!1},s.each=function(t,e){var r,i,s,o=0;if(n(t))for(s=t.length;s>o;++o)e(t[o],o);else if("object"==typeof t)for(r=Object.keys(t),s=r.length;s>o;++o)i=r[o],e(i,t[i])},s.match=function(t,e){var r,i,s,o={},a=0;if(n(t)){for(s=t.length;s>a;++a)if(e(t[a],a))return t[a]}else if("object"==typeof t)for(r=Object.keys(t),s=r.length;s>a;++a)if(i=r[a],e(i,t[i],a))return o[i]=t[i],o;return null},s.extend=function(){function t(t){a&&s.type(n[t],"object")&&s.type(e[t],"object")?s.extend(n[t],e[t]):n[t]=e[t]}var e,n,r=[].slice.call(arguments),i=1,o=r.length,a=!1;for("true"===r[0]&&(a=!0,++i),n=r[i-1]||{};o>i;++i)e=r[i],"object"===s.type(e)&&s.each(Object.keys(e),t);return n},s.query2object=function(t){if(!t)return{};for(var e={},n=t.split("&"),r=0,i=n.length;i>r;++r){var s=n[r].split("=");e[s[0]]=s[1]}return e},s.param=function(t){for(var e,n=Object.keys(t),r=0,i=n.length,s=[];i>r;++r)e=n[r],s.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return s.join("&")},s.triggerEvent=function(t,n,r,i,s){if(t){if(!n)throw Error("require event name");"string"!=typeof r&&(r=n,n="click"===r?"MouseEvents":"Event");var o=e.createEvent(n);o.initEvent(r,"undefined"===i?!1:i,"undefined"===s?!1:s),t.dispatchEvent(o)}},s.cssPrefix=function(t,e){var n=[];return e=e||["webkit","moz","o","ms","khtml"],s.each(e,function(e,r){n[r]="-"+e+"-"+t}),n},s.cssCamelizer=function(t){if("string"!=typeof t)throw Error("arugment type error");var e="";return"-"===t[0]&&(t=t.substr(1,t.length)),s.each(t.split("-"),function(t,n){return n?(e+=t[0].toUpperCase()+t.substr(1,t.length),i):(e+=t,i)}),e},s.cssHyphenizer=function(t){if("string"!=typeof t)throw Error("arugment type error");var e=["webkit","moz","o","ms","khtml"],n=/[A-Z]/g,r=t.match(n),o="";return s.each(t.split(n),function(t,n){return e.indexOf(t)>-1?(o+="-"+t,i):n?(o+="-"+r.shift().toLowerCase()+t,i):(o+=t,i)}),o},s.tag=function(t,n){if("string"!=typeof t)throw Error("argument type error");var r=e.createElement(t);return n?r:s(r)},s.createEnvData=function(e){function n(t){if(!t)return null;var e,n=4,r=0;return t=t.replace(/\D/g,""),r=n-t.length,e=r>0?+t*Math.pow(10,r):0>r?+t.substr(0,n):+t}var r={},i=(e||t.navigator).userAgent.toLowerCase();return r.android=/android/.test(i),r.ios=/ip(hone|od|ad)/.test(i),r.windowsPhone=/windows\sphone/.test(i),r.chrome=r.android&&/chrome/.test(i)||r.ios&&/crios/.test(i),r.firefox=/firefox/.test(i),r.opera=/opera/.test(i),r.ie=/msie/.test(i),r.androidBrowser=r.android&&!r.chrome&&/applewebkit/.test(i),r.mobileSafari=r.ios&&!r.chrome&&/applewebkit/.test(i),r.other=!(r.androidBrowser||r.mobileSafari||r.chrome||r.firefox||r.opera||r.ie),r.version=r.androidBrowser||r.chrome?i.match(/android\s(\S.*?)\;/):r.mobileSafari?i.match(/os\s(\S.*?)\s/):null,r.version=r.version&&r.version[1],r.versionCode=n(r.version),r.isCompatible=r.android&&3e3>r.versionCode||r.ios&&5e3>r.versionCode||r.opera,r.supportTouch="ontouchstart"in t,r},s.env=s.createEnvData(t.navigator),o.prototype=s.fn={constructor:o,get:function(t){return this[t||0]},toArray:function(){var t=[];return this.each(function(e){t[e]=this}),t},each:function(t){for(var e=0,n=this.length;n>e;++e)t.call(this[e],e);return this},match:function(t){for(var e=0,n=this.length;n>e;++e)if(t.call(this[e],e))return this[e];return null},on:function(t,e,n){return s.type(e,"string")?this.delegate(e,t,n):this.bind(t,e),this},off:function(t,e,n){return s.type(e,"string")?this.undelegate(e,t,n):this.unbind(t,e),this},bind:function(t,e,n){return n=n||!1,this.each(function(){this.addEventListener(t,e,n)},!0),this},unbind:function(t,e){return this.each(function(){this.removeEventListener(t,e)},!0),this},delegate:function(e,n,r){var i=this._delegates[n],o={target:e,callback:r};return i||(i=this._delegate[n]={},i.listeners=[],i.handler=function(e){var n,r=e.target;s.match(i.listeners,function(i){var o=s(i.target).match(function(){var e=this.compareDocumentPosition(r);return 0===e||e&t.Node.DOCUMENT_POSITION_CONTAINED_BY?!0:!1});return o?(n=s.extend({},e),n.currentTarget=o,"function"==typeof i.callback?i.callback(n):"handleEvent"in i.callback&&i.callback.handleEvent(n),!0):!1})},this.bind(n,i.handler)),i.listeners.push(o),this},undelegate:function(t,e,n){var r=this._delegates[e],i=r.listeners;return i&&0!==i.length?(s.match(i,function(e,r){return e.target===t&&e.callback===n?(i.splice(r,1),!0):!1}),0===i.length&&(this.unbind(e,r.handler),r=this._delegates[e]={}),this):this},addClass:function(){function t(t){this.each(function(){this.classList.add(t)})}function e(t){function e(t,e){var n=t.split(" ");return n[n.length]=e,n.join(" ")}var n=this[0].className,r=e(n,t);this.each(function(i){s(this).hasClass(t)||(i&&n!==this.className&&(n=this.className,r=e(n,t)),this.className=r)})}var n=s.env.isCompatible?e:t;return function(t){return n.call(this,t),this}}(),removeClass:function(){function t(t){this.each(function(){this.classList.remove(t)})}function e(t){t=" "+t+" ",this.each(function(){this.className=(" "+this.className+" ").replace(t,"")})}var n=s.env.isCompatible?e:t;return function(t){return n.call(this,t),this}}(),hasClass:function(){function t(t){return this.match(function(){return this.classList.contains(t)})}function e(t){return this.match(function(){return(" "+this.className+" ").indexOf(" "+t+" ")>-1})}var n=s.env.isCompatible?e:t;return function(t){var e;return e=n.call(this,t.trim()),e?!0:!1}}(),toggleClass:function(t,e){var n=this;return e?n.each(function(){var e=s(this);e.hasClass(t)?e.removeClass(t):e.addClass(t)}):s(n[0]).hasClass(t)?n.removeClass(t):n.addClass(t),this},find:function(t){var e=[];return this.each(function(){e=e.concat(s(t,this).toArray())}),s(e)},contains:function(e){var n,r=s(e);return n=this.match(function(){var e=this,n=r.match(function(){var n=e.compareDocumentPosition(this);return 0===n||n&t.Node.DOCUMENT_POSITION_CONTAINED_BY?!0:!1});return n?!0:!1})},attr:function(t,e){function n(t,e){(e===i||null===e)&&(e=""),o.each(function(){return""===e?(this.removeAttribute(t),i):(this.setAttribute(t,e),i)})}var r,o=this;switch(arguments.length){case 1:if("object"!=typeof t)return this[0].getAttribute(t);s.each(t,function(){n(r,t[r])});break;case 2:n(t,e)}return this},html:function(t){return t===i||null===t?this[0].innerHTML:(t.nodeType?this.clear().append(t):this.each(function(){for(;this.firstChild;)this.removeChild(this.firstChild);this.insertAdjacentHTML("afterbegin",t)}),this)},append:function(t){return this.each("string"==typeof t?function(){this.insertAdjacentHTML("beforeend",t)}:function(){this.appendChild(t)}),this},prepend:function(t){return this.each("string"==typeof t?function(){this.insertAdjacentHTML("afterbegin",t)}:function(){this.insertBefore(t,this.firstChild)}),this},remove:function(){return this.each(function(){this.parentNode.removeChild(this)}),this},clear:function(){return this.each(function(){for(;this.firstChild;)this.removeChild(this.firstChild)}),this},replace:function(t){return this.each("string"==typeof t?function(){this.insertAdjacentHTML("beforebegin",t)}:function(){this.parentNode.insertBefore(t,this)}),this.remove(),this},css:function(e,n){function r(t){a.each(function(){this.style.removeProperty(t)})}function o(t,e){a.each(function(){this.style[t]=e})}var a=this;if("object"==typeof e)s.each(e,function(t,e){return""===e?(r(t),i):(o(s.cssCamelizer(t),e),i)});else if(e)if(n)o(s.cssCamelizer(e),n);else{if(""!==n)return t.getComputedStyle(this[0]).getPropertyValue(e);r(e)}return this},data:function(){function t(t,e){this.each(function(){return""===e?(delete this.dataset[t],i):(this.dataset[t]=e,i)})}function e(t){return this[0]?t?this[0].dataset[t]:this[0].dataset:null}function n(t,e){this.attr("data-"+t,e)}function r(t){var e,n={},r="data-",i=this[0],s=i.attributes,o=0,a=s.length;if(!i)return null;if(t)return r+=t,this.attr(r);for(;a>o;++o)e=s[o].name,e.indexOf(r)>-1&&(t=e.substr(5,e.length),n[t]=s[o].value);return n}var o=s.env.isCompatible?r:e,a=s.env.isCompatible?n:t;return function(t,e){var n=this;switch(arguments.length){case 0:return o.call(this);case 1:return"object"==typeof t?(s.each(t,function(t,e){a.call(n,t,e)}),this):o.call(this,t);case 2:return a.call(this,t,e),this}}}(),show:function(t){var e=this.css("display"),n=this._data.beforeDisplay||null;if("none"===e)return this.css("display",t||n||"block")},hide:function(){var t=this.css("display");return"none"!==t&&(this._data.beforeDisplay=t),this.css("display","none")},trigger:function(t,e,n,r){return this.each(function(){s.triggerEvent(this,t,e,n,r)}),this},offset:function(){var e=[];return this.each(function(n){var r=this.getBoundingClientRect();e[n]={left:r.left+t.pageXOffset,top:r.top+t.pageYOffset}}),1===this.length?e[0]:e}},t[a]=t[a]||s})(this,this.document,Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),function(t){var e=Object.prototype.toString.call(t);return"[object NodeList]"===e||"[object HTMLCollection]"===e});